if (hspeed == 0) {
  x = round(x / global.ortho_side) * global.ortho_side;
}
if (vspeed == 0) {
  y = round(y / global.ortho_side) * global.ortho_side;
}
